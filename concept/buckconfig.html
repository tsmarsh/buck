<!doctype html><html xmlns="http://www.w3.org/1999/xhtml"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns#"><script>var loc = new String(window.location); if (loc.indexOf('facebook.github.io/buck') != -1) {window.location.replace(loc.replace('facebook.github.io/buck', 'buckbuild.com'));}</script><!-- Facebook Pixel Code --><script>!function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script','//connect.facebook.net/en_US/fbevents.js'); fbq('init', '1637165926500152'); fbq('track', 'PageView');</script><noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1637165926500152&ev=PageView&noscript=1" /></noscript><!-- End Facebook Pixel Code --><title>Buck: .buckconfig</title><link type="image/png" rel="shortcut icon" href="/static/favicon.png" /><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" /><meta http-equiv="content-type" content="text/html;charset=utf-8"><link type="text/css" rel="stylesheet" href="/google-code-prettify/prettify.css" ><link type="text/css" rel="stylesheet" href="/static/buck.css"><meta property="og:locale" content="en_US"><meta property="og:title" content=".buckconfig"><meta property="og:site_name" content="Buck: a build tool"><meta property="og:image" content="http://buckbuild.com/static/og.png"><meta property="og:type" content="article"><meta property="og:description" content="An optional file that contains configuration information for Buck."><meta property="fb:admins" content="584556688222168"></head><body><div id="fb-root"></div><script>(function(d, s, id) {var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=584556688222168"; fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));</script><header class='topbar'><nav class='width'><a href='http://buckbuild.com/'><h1>Buck</h1></a><ul class='menu'><li><a href='/setup/quick_start.html'>Get Started</a><li><a href='https://groups.google.com/forum/#!forum/buck-build'>Group</a><li><a href='/javadoc/'>API</a><li><a href='https://github.com/facebook/buck'>GitHub</a></ul></nav></header><section class='content'><div class='width'><article><h1>.buckconfig</h1><div class="overview"><p>The root of your project may contain a configuration file named <code>.buckconfig</code>. If present, Buck will read this file before executing its business logic so that any customizations specified in <code>.buckconfig</code> will take effect. This file uses the <a href="http://en.wikipedia.org/wiki/INI_file">INI file format</a>.<p>The root of your project may also contain a second configuration file named <code>.buckconfig.local</code>. Its format is exactly the same as that of <code>.buckconfig</code>, but any definition in <code>.buckconfig.local</code> will override that of <code>.buckconfig</code>. In practice, <code>.buckconfig</code> will be a version-controlled file that contains settings that are applicable to all team members (such as standard includes for build files), whereas <code>.buckconfig.local</code> will be excluded from version control because it contains user-specific overrides (such as personal aliases).<p>If a configuration option is not found in the project's <code>.buckconfig</code>, it will fall back to a <code>.buckconfig</code> file and <code>.buckconfig.d</code> directory in your home directory. Each of those has the same format as a <code>.buckconfig</code> file but will have any settings overridden by project-specific configurations. If you have build issues, make sure that there is nothing in your <code>.buckconfig</code> or <code>.buckconfig.d</code> that could be conflicting with the project you're trying to build.<p>The following sections are recognized by Buck:<p><a href="#adb"><code>[adb]</code></a><br><a href="#alias"><code>[alias]</code></a><br><a href="#android"><code>[android]</code></a><br><a href="#apple"><code>[apple]</code></a><br><a href="#build"><code>[build]</code></a><br><a href="#buildfile"><code>[buildfile]</code></a><br><a href="#cache"><code>[cache]</code></a><br><a href="#color"><code>[color]</code></a><br><a href="#cxx"><code>[cxx]</code></a><br><a href="#download"><code>[download]</code></a><br><a href="#go"><code>[go]</code></a><br><a href="#groovy"><code>[groovy]</code></a><br><a href="#halide"><code>[halide]</code></a><br><a href="#java"><code>[java]</code></a><br><a href="#httpserver"><code>[httpserver]</code></a><br><a href="#log"><code>[log]</code></a><br><a href="#maven_repositories"><code>[maven_repositories]</code></a><br><a href="#ndk"><code>[ndk]</code></a><br><a href="#project"><code>[project]</code></a><br><a href="#python"><code>[python]</code></a><br><a href="#rust"><code>[rust]</code></a><br><a href="#test"><code>[test]</code></a><br><a href="#thrift"><code>[thrift]</code></a><br><a href="#tools"><code>[tools]</code></a><br><h2 id="adb">[adb] <a class="inline-link" href="#adb">#</a></h2><p>This section configures adb behavior.</p><h3 id="adb.adb_restart_on_failure">adb_restart_on_failure <a class="inline-link" href="#adb.adb_restart_on_failure">#</a></h3><p>This specifies whether to restart adb on failure or not.</p><pre class="prettyprint lang-ini">[adb]
  adb_restart_on_failure = true</pre><h3 id="adb.multi_install_mode">multi_install_mode <a class="inline-link" href="#adb.multi_install_mode">#</a></h3><p>This specifies whether multi-install mode is enabled or disabled by default.</p><pre class="prettyprint lang-ini">[adb]
  multi_install_mode = false</pre><h2 id="alias">[alias] <a class="inline-link" href="#alias">#</a></h2><p><p>This section contains definitions of <a href="/concept/build_target.html">build target</a> aliases.</p><pre class="prettyprint lang-ini">
[alias]
  app     = //apps/myapp:app
  apptest = //apps/myapp:test
</pre><p>These aliases can then be used from the command line:</p><pre class="prettyprint">
$ buck build app
$ buck test apptest
</pre><p>You can also suffix aliases with flavors:</p><pre class="prettyprint">
$ buck build app#src_jar
# This will expand the alias and effectively build the target returned by:
$ buck targets --resolve-alias app#src_jar
//apps/myapp:app#src_jar
</pre></p><h2 id="android">[android] <a class="inline-link" href="#android">#</a></h2><p>This section configures android-specific build behavior.</p><h3 id="android.target">target <a class="inline-link" href="#android.target">#</a></h3><p>This specifies the version of the Android SDK that all Android code in the project should be built against.  Even if not specified, the version that Buck chose to use will be printed to the console during the build.  A list of valid values on your system can be found by running <code>android list targets --compact</code>.</p><pre class="prettyprint lang-ini">[android]
  target = Google Inc.:Google APIs:21</pre><h2 id="apple">[apple] <a class="inline-link" href="#apple">#</a></h2><p>This section includes settings that control settings that are specific to Apple platform rules.</p><h3 id="apple.xcode_developer_dir">xcode_developer_dir <a class="inline-link" href="#apple.xcode_developer_dir">#</a></h3><p>By default, Buck will use the output of <code>xcode-select --print-path</code> to determine where Xcode's developer directory is.  However, you can specify a directory in the config to override whatever value that would return.</p><pre class="prettyprint lang-ini">[apple]
  xcode_developer_dir = path/to/developer/directory</pre><h3 id="apple.xcode_developer_dir_for_tests">xcode_developer_dir_for_tests <a class="inline-link" href="#apple.xcode_developer_dir_for_tests">#</a></h3><p>Optionally override the Xcode developer directory for running tests, if you want them to be run with a different Xcode version than the version used for building.  If absent, falls back to <code>xcode_developer_dir</code> and finally <code>xcode-select --print-path</code>.</p><pre class="prettyprint lang-ini">[apple]
  xcode_developer_dir_for_tests = path/to/developer/directory/for_tests</pre><h3 id="apple.target_sdk_version">target_sdk_version <a class="inline-link" href="#apple.target_sdk_version">#</a></h3><p>For each platform, you can specify the target SDK version to use.  The format is <code>{platform}_target_sdk_version</code>.</p><pre class = "prettyprint lang-ini">
[apple]
  iphonesimulator_target_sdk_version = 7.0
  iphoneos_target_sdk_version = 7.0
  macosx_target_sdk_version = 10.9
</pre><h3 id="apple.xctool_path">xctool_path <a class="inline-link" href="#apple.xctool_path">#</a></h3><p>If you want to run tests with Buck, you will need to get <a href="https://github.com/facebook/xctool"><code>xctool</code></a> and tell Buck where to find it.  This setting lets you specify a path to a binary.  You should use either this setting or <a href="/concept/buckconfig.html#apple.xctool_zip_target">apple.xctool_zip_target</a>.</p><pre class="prettyprint lang-ini">[apple]
  xctool_path = path/to/binary/of/xctool</pre><h3 id="apple.xctool_zip_target">xctool_zip_target <a class="inline-link" href="#apple.xctool_zip_target">#</a></h3><p>If you want to run tests with Buck, you will need to get <a href="https://github.com/facebook/xctool"><code>xctool</code></a> and tell Buck where to find it.  This setting lets you specify a <a href="/concept/build_target.html">build target</a>.  You should use either this setting or <a href="/concept/buckconfig.html#apple.xctool_path">apple.xctool_path</a>.</p><pre class="prettyprint lang-ini">[apple]
  xctool_zip_target = //path/to/target/that/creates:xctool-zip</pre><h3 id="apple.test_log">test_log <a class="inline-link" href="#apple.test_log">#</a></h3><p>When running Apple tests via <code>xctool</code>, Buck can set environment variables to tell the tests where to write debug logs and what log level to use. By default, Buck tells <code>xctool</code> to set two environment variables named <code>FB_LOG_DIRECTORY</code>and <code>FB_LOG_LEVEL</code> when running tests which you can read from your test environment:<pre class="prettyprint lang-sh">
  FB_LOG_DIRECTORY=buck-out/gen/path/to/logs
  FB_LOG_LEVEL=debug
</pre>You can override the default names for these environment variables and the value for the debug log level via the following config settings:</p><pre class="prettyprint lang-init">
  [apple]
    test_log_directory_environment_variable=MY_LOG_DIRECTORY
    test_log_level_environmant_variable=MY_LOG_LEVEL
    test_log_level=verbose
</pre><h3 id="apple.xctool_default_destination_specifier">xctool_default_destination_specifier <a class="inline-link" href="#apple.xctool_default_destination_specifier">#</a></h3><p>This setting is passed directly to <code>xctool</code>, and then to <code>xcodebuild</code> as the <code>-destination</code> argument.  See the <a href="https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/xcodebuild.1.html">man page</a> for the proper syntax.</p><pre class="prettyprint lang-ini">[apple]
  xctool_default_destination_specifier = platform=iOS Simulator</pre><h3 id="apple.default_debug_info_format">default_debug_info_format <a class="inline-link" href="#apple.default_debug_info_format">#</a></h3><p><code>default_debug_info_format</code> setting controls the default debug info format. If you don't specify it, <code>DWARF_AND_DSYM</code> value will be used. You can also disable debug data by specifying <code>NONE</code> value.</p><pre class="prettyprint lang-ini">[apple]
  default_debug_info_format = DWARF_AND_DSYM</pre><h3 id="apple.device_helper_path">device_helper_path <a class="inline-link" href="#apple.device_helper_path">#</a></h3><p>If you want to have Buck be able to install to devices, you need to provide the path to the <a href="https://github.com/samdmarshall/SDMMobileDevice"><code>iOSConsole</code></a> binary.</p><pre class="prettyprint lang-ini">[apple]
  device_helper_path = third-party/iOSConsole/iOSConsole</pre><h3 id="apple.provisioning_profile_search_path">provisioning_profile_search_path <a class="inline-link" href="#apple.provisioning_profile_search_path">#</a></h3><p>Specifies a path where Buck will look for provisioning profiles (files with extension <code>.mobileprovision</code>) that it can use to provision the application to be used on a device. You can specify either an absolute path or one relative to the project root.  If unspecified, Buck will look in <code>~/Library/MobileDevice/Provisioning Profiles</code>.</p><pre class="prettyprint lang-ini">[apple]
  provisioning_profile_search_path = path/to/provisioning/profiles</pre><h3 id="apple.use_header_maps_in_xcode">use_header_maps_in_xcode <a class="inline-link" href="#apple.use_header_maps_in_xcode">#</a></h3><p>Xcode projects generated by Buck by default use header maps for header search paths. This speeds up builds for large projects over using regular directory header search paths, but breaks some Xcode features, like header file name autocompletion. If that is an issue, use the following option to disable the use of header maps.</p><pre class="prettyprint lang-ini">[apple]
  use_header_maps_in_xcode = false</pre><h2 id="build">[build] <a class="inline-link" href="#build">#</a></h2><p>This section includes settings that control build engine behavior.</p><h3 id="build.engine_mode">engine_mode <a class="inline-link" href="#build.engine_mode">#</a></h3><p>This has two possible values that change the behavior of how Buck operates when building a <a href="/concept/build_target.html">build target</a>:<ul><li><code>shallow</code> (default): only the required transitive dependencies of a <a href="/concept/build_target.html">build target</a> are materialized locally.  Cache hits can result in missing transitive dependencies that are not needed for the final output.</li><li><code>deep</code>: ensure that all transitive dependencies of a <a href="/concept/build_target.html">build target</a> are materialized locally.</li></ul></p><pre class="prettyprint lang-ini">[build]
  engine_mode = shallow</pre><h3 id="build.depfiles">depfiles <a class="inline-link" href="#build.depfiles">#</a></h3><p>Configures the use of dependency files for rules that support them.  This is an optimization that is useful when dependencies are over-specified and the rule can dynamically determine the subset of dependencies it actually needs.  The possible values are:<ul><li><code>enabled</code> (default): Use dependency files to avoid unnecessary rebuilds.</li><li><code>cache</code>: Use dependency files to avoid unnecessary rebuilds and to store/fetch artifacts to/from the cache.</li><li><code>disabled</code>: Do not use dependency files for rebuild detection.</li></ul></p><pre class="prettyprint lang-ini">[build]
  depfiles = enabled</pre><h3 id="build.max_depfile_cache_entries">max_depfile_cache_entries <a class="inline-link" href="#build.max_depfile_cache_entries">#</a></h3><p>Sets the maximum size of the depfile cache for each input source file.  This is only used when setting <a href="/concept/buckconfig.html#build.depfiles">build.depfiles</a> to <code>cache</code>.  An ideal setting for this should be big enough for the working set of all possible header states that a given unchanged source file uses.</p><pre class="prettyprint lang-ini">[build]
  max_depfile_cache_entries = 256</pre><h3 id="build.threads">threads <a class="inline-link" href="#build.threads">#</a></h3><p>Sets the maximum number of threads to use for building.  By default, Buck uses the number of available cores multipled by <code>1.25</code>.</p><pre class="prettyprint lang-ini">[build]
  threads = 4</pre><h3 id="build.work_queue_execution_order">work_queue_execution_order <a class="inline-link" href="#build.work_queue_execution_order">#</a></h3><p>Configures the order in which the build engine executes scheduled jobs.  The supported values are:<ul><li><code>LIFO</code> (default): Last in, first out.  This mode will prefer building all dependencies of a target before build other targets.  Jobs at different depths in the dependency graph are likely to be evenly spread throughout the build.</li><li><code>FIFO</code>: First in, first out.  In this mode, all jobs will first check the cache before building their dependencies.  Execution order of jobs is likely to be mostly ordered by their depth in the dependency graph.</li></ul></p><pre class="prettyprint lang-ini">[build]
  work_queue_execution_order = LIFO</pre><h3 id="build.dependency_scheduling_order">dependency_scheduling_order <a class="inline-link" href="#build.dependency_scheduling_order">#</a></h3><p>Determines whether dependencies will be scheduled in a deterministic or random order.  The supported values are:<ul><li><code>RANDOM</code> (default): Randomly shuffle dependencies before scheduling them.  This mode should improve the cache hits if multiple machines that use the same cache start building the same target at the same time.  It may also help surface issues with rules depending on side effects of other rules that they do not depend on.</li><li><code>SORTED</code>: First sort dependencies in a stable order before scheduling them.  Note that this does not mean that jobs will always be executed in the same order because that also depends on the number of running threads and races between them.</li></ul></p><pre class="prettyprint lang-ini">[build]
  dependency_scheduling_order = RANDOM</pre><h2 id="buildfile">[buildfile] <a class="inline-link" href="#buildfile">#</a></h2><p>This section includes settings that control build file behavior.</p><h3 id="buildfile.includes">includes <a class="inline-link" href="#buildfile.includes">#</a></h3><p>This sets a list of paths to files that will be automatically included by every build file. This is equivalent to calling <a href="/function/include_defs.html"><code>include_defs()</code></a> in every build file.</p><pre class="prettyprint lang-ini">[buildfile]
  includes = //core/DEFS</pre><h2 id="cache">[cache] <a class="inline-link" href="#cache">#</a></h2><p>This section configures build artifact caching, which can be disabled (default), on the filesystem, or in a distributed cache that can be shared among developers.  Note that the <a href="/concept/buckconfig.html#cache.mode">cache.mode</a> setting determines which other properties, if any, are relevant to the caching configuration; the irrelevant properties are ignored.</p><h3 id="cache.mode">mode <a class="inline-link" href="#cache.mode">#</a></h3><p>A comma-separated set of caching policies to use.  The valid values are:<ul><li><code>dir</code>: Use a directory-based cached on the local filesystem.</li><li><code>http</code>: Use an http-based cache.</li></ul></p><pre class="prettyprint lang-ini">[cache]
  mode = dir, http</pre><h3 id="cache.dir">dir <a class="inline-link" href="#cache.dir">#</a></h3><p>The directory path relative to the project root that is used for directory-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>dir</code>).  This defaults to <code>buck-cache</code>.</p><pre class="prettyprint lang-ini">[cache]
  dir = buck-cache</pre><h3 id="cache.dir_max_size">dir_max_size <a class="inline-link" href="#cache.dir_max_size">#</a></h3><p>The maximum cache size for directory-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>dir</code>).  The default size is unlimited.</p><pre class="prettyprint lang-ini">[cache]
  dir_max_size = 10GB</pre><h3 id="cache.dir_mode">dir_mode <a class="inline-link" href="#cache.dir_mode">#</a></h3><p>Dictates if the cache is <code>readonly</code> or <code>readwrite</code> (default) when using directory-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>dir</code>).</p><pre class="prettyprint lang-ini">[cache]
  dir_mode = readwrite</pre><h3 id="cache.http_url">http_url <a class="inline-link" href="#cache.http_url">#</a></h3><p>The URL to use to contact the cache when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).  Buck communicates with the server using a <a href="/concept/http_cache_api.html">simple API</a>.</p><pre class="prettyprint lang-ini">[cache]
  http_url = http://localhost:8080</pre><h3 id="cache.http_mode">http_mode <a class="inline-link" href="#cache.http_mode">#</a></h3><p>Dictates if the cache is <code>readonly</code> or <code>readwrite</code> (default) when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).</p><pre class="prettyprint lang-ini">[cache]
  http_mode = readwrite</pre><h3 id="cache.http_read_headers">http_read_headers <a class="inline-link" href="#cache.http_read_headers">#</a></h3><p>A semicolon-separated set of HTTP headers to use when reading from the cache when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).  The default is no headers.</p><pre class="prettyprint lang-ini">[cache]
  http_read_headers = User-Agent: buck</pre><h3 id="cache.http_write_headers">http_write_headers <a class="inline-link" href="#cache.http_write_headers">#</a></h3><p>A semicolon-separated set of HTTP headers to use when writing to the cache when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).  The default is no headers.</p><pre class="prettyprint lang-ini">[cache]
  http_write_headers = Authorization: XXXXXXX; User-Agent: buck</pre><h3 id="cache.http_timeout_seconds">http_timeout_seconds <a class="inline-link" href="#cache.http_timeout_seconds">#</a></h3><p>Dictates the timeout per connection when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).  The default is <code>3</code>.</p><pre class="prettyprint lang-ini">[cache]
  http_timeout_seconds = 3</pre><h3 id="cache.http_max_concurrent_writes">http_max_concurrent_writes <a class="inline-link" href="#cache.http_max_concurrent_writes">#</a></h3><p>The numver of writer threads to use to upload to the http cache when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).  The default is <code>1</code>.  Note that when using multiple http caches (see below), the writer thread pool is shared between them all.</p><pre class="prettyprint lang-ini">[cache]
  http_max_concurrent_writes = 1</pre><h3 id="cache.http_writer_shutdown_timeout_seconds">http_writer_shutdown_timeout_seconds <a class="inline-link" href="#cache.http_writer_shutdown_timeout_seconds">#</a></h3><p>The length of time to wait after the build completes for any remaining http cache uploads to complete before forecfully shutting down the writer thread pool when using http-based caching (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>http</code>).  The default is <code>1800</code> (30 minutes).</p><pre class="prettyprint lang-ini">[cache]
  http_writer_shutdown_timeout_seconds = 1800</pre><h3 id="cache.serve_local_cache">serve_local_cache <a class="inline-link" href="#cache.serve_local_cache">#</a></h3><p>Make the directory-based cache (<a href="/concept/buckconfig.html#cache.mode">cache.mode</a> must contain <code>dir</code>) available to other hosts on the network via Buck's HTTP server (enabled under <a href="/concept/buckconfig.html#httpserver"><code>[httpserver]</code></a>).</p><pre class="prettyprint lang-ini">[cache]
  serve_local_cache = false</pre><h3 id="cache.served_local_cache_mode">served_local_cache_mode <a class="inline-link" href="#cache.served_local_cache_mode">#</a></h3><p>Dictates if the cache is <code>readonly</code> or <code>readwrite</code> (default) when <a href="/concept/buckconfig.html#cache.serve_local_cache">cache.serve_local_cache</a> is enabled.</p><pre class="prettyprint lang-ini">[cache]
  served_local_cache_mode = readwrite</pre><h3 id="cache.http_cache_names">http_cache_names <a class="inline-link" href="#cache.http_cache_names">#</a></h3><p>A comma-separated list of names used to configure multiple caches.  The caches will be used<b>serially</b> in the order in which their names are specified here.  If an artifact is found further along in the list, an attempt to store it in the caches earlier in the list will be made.  In the following example, if the artifact is found in the <code>global</code> cache, it will be stored in the <code>local</code> cache, but not <code>regional-ro</code> cache (as that one is <code>readonly</code>.</p><pre class="prettyprint lang-ini">
[cache]
    mode = http
    http_cache_names = local, regional-ro, global

[cache#regional-ro]
    http_url = http://region.com/
    http_timeout_seconds = 5
    http_mode = readonly

[cache#local]
    http_url = http://local.co.uk/
    http_timeout_seconds = 1

[cache#global]
    http_url = http://global.com/
    http_timeout_seconds = 42
</pre><h2 id="color">[color] <a class="inline-link" href="#color">#</a></h2><p>This section configures colored output of Buck.</p><h3 id="color.ui">ui <a class="inline-link" href="#color.ui">#</a></h3><p>Enables (default) or disables colorized output in the terminal.</p><pre class="prettyprint lang-ini">[color]
  ui = true</pre><h2 id="download">[download] <a class="inline-link" href="#download">#</a></h2><p>This section configures downloading from the network during <a href="/command/fetch.html"><code>buck fetch</code></a>.</p><h3 id="download.proxy">proxy <a class="inline-link" href="#download.proxy">#</a></h3><p>Buck will attempt to fetch files from the network, however, if you happen to be behind a] firewall, this may not work correctly.  You can supply a proxy when downloading from HTTP[S] servers with these three settings.  Valid types for <code>proxy_type</code> are <code>HTTP</code> (default) and <code>SOCKS</code>.  These values correspond to  <a href="http://docs.oracle.com/javase/8/docs/api/java/net/Proxy.Type.html">Java's Proxy.Type</a>.</p><pre class="prettyprint lang-ini">
[download]
    proxy_host=proxy.example.com
    proxy_port=8080
    proxy_type=HTTP
</pre><h3 id="download.maven_repo">maven_repo <a class="inline-link" href="#download.maven_repo">#</a></h3><p>If a remote file's URL starts with <code>mvn:</code>, that file (usually a jar) is supposed to come from a maven repo.  You can specify the repo to download from here, or by setting one or more repositories in <a href="/concept/buckconfig.html#maven_repositories"><code>[maven_repositories]</code></a>.</p><pre class="prettyprint lang-ini">[download]
  maven_repo = https://repo1.maven.org/maven2</pre><h2 id="cxx">[cxx] <a class="inline-link" href="#cxx">#</a></h2><p><p>This section configures the paths to the C++ and C toolchains' binaries and the default flags to pass to all invocations of them.</p><p>Adding a section with header [cxx#<i>flavor</i>] to the .buckconfig will add an alternate cxx section.  This cxx section will be used instead of <code>[cxx]</code>if the compilation flavor is invoked by appending <i>#flavor</i> to a <a href="/concept/build_target.html">build target</a>.  On the command line, to build with <code>[cxx#example]</code> rather than <code>[cxx]</code>:</p><pre class="prettyprint">
    $ buck build app#example
    </pre></p><h3 id="cxx.cpp">cpp <a class="inline-link" href="#cxx.cpp">#</a></h3><p>The path to the C preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  cpp = /usr/bin/gcc</pre><h3 id="cxx.cc">cc <a class="inline-link" href="#cxx.cc">#</a></h3><p>The path to the C compiler.</p><pre class="prettyprint lang-ini">[cxx]
  cc = /usr/bin/gcc</pre><h3 id="cxx.ld">ld <a class="inline-link" href="#cxx.ld">#</a></h3><p>The path to the C/C++ linker driver.</p><pre class="prettyprint lang-ini">[cxx]
  ld = /usr/bin/g++</pre><h3 id="cxx.linker_platform">linker_platform <a class="inline-link" href="#cxx.linker_platform">#</a></h3><p>The platform for the linker.  Normally this is autodetected based on the system, but it useful to set when cross compiling.  Valid values are:<ul><li><code>MACOS</code></li><li><code>LINUX</code></li><li><code>WINDOWS</code></li><li><code>UNKNOWN</code></li></ul></p><pre class="prettyprint lang-ini">[cxx]
  linker_platform = MACOS</pre><h3 id="cxx.cxxpp">cxxpp <a class="inline-link" href="#cxx.cxxpp">#</a></h3><p>The path to the C++ preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  cxxpp = /usr/bin/g++</pre><h3 id="cxx.cxx">cxx <a class="inline-link" href="#cxx.cxx">#</a></h3><p>The path to the C++ compiler.</p><pre class="prettyprint lang-ini">[cxx]
  cxx = /usr/bin/g++</pre><h3 id="cxx.aspp">aspp <a class="inline-link" href="#cxx.aspp">#</a></h3><p>The path to the assembly preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  aspp = /usr/bin/gcc</pre><h3 id="cxx.as">as <a class="inline-link" href="#cxx.as">#</a></h3><p>The path to the assembler.</p><pre class="prettyprint lang-ini">[cxx]
  as = /usr/bin/as</pre><h3 id="cxx.ar">ar <a class="inline-link" href="#cxx.ar">#</a></h3><p>The path to the archiver.</p><pre class="prettyprint lang-ini">[cxx]
  ar = /usr/bin/ar</pre><h3 id="cxx.archiver_platform">archiver_platform <a class="inline-link" href="#cxx.archiver_platform">#</a></h3><p>The platform for the archiver.  Normally this is autodetected based on the system, but it useful to set when cross compiling.  Valid values are:<ul><li><code>MACOS</code></li><li><code>LINUX</code></li><li><code>WINDOWS</code></li><li><code>UNKNOWN</code></li></ul></p><pre class="prettyprint lang-ini">[cxx]
  archiver_platform = MACOS</pre><h3 id="cxx.cppflags">cppflags <a class="inline-link" href="#cxx.cppflags">#</a></h3><p>The flags to pass to the C preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  cppflags = -Wall</pre><h3 id="cxx.cflags">cflags <a class="inline-link" href="#cxx.cflags">#</a></h3><p>The flags to pass to the C compiler and preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  cflags = -Wall</pre><h3 id="cxx.ldflags">ldflags <a class="inline-link" href="#cxx.ldflags">#</a></h3><p>The flags to pass to the C preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  ldflags = --strip-all</pre><h3 id="cxx.cppxxflags">cppxxflags <a class="inline-link" href="#cxx.cppxxflags">#</a></h3><p>The flags to pass to the C++ preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  cppxxflags = -Wall</pre><h3 id="cxx.cxxflags">cxxflags <a class="inline-link" href="#cxx.cxxflags">#</a></h3><p>The flags to pass to the C++ compiler and preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  cxxflags = -Wall</pre><h3 id="cxx.asppflags">asppflags <a class="inline-link" href="#cxx.asppflags">#</a></h3><p>The flags to pass to the assembly preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  asppflags = -W</pre><h3 id="cxx.csflags">csflags <a class="inline-link" href="#cxx.csflags">#</a></h3><p>The flags to pass to the assembler and assembly preprocessor.</p><pre class="prettyprint lang-ini">[cxx]
  csflags = -W</pre><h3 id="cxx.arflags">arflags <a class="inline-link" href="#cxx.arflags">#</a></h3><p>The flags to pass to the archiver.</p><pre class="prettyprint lang-ini">[cxx]
  arflags = -X32_64</pre><h3 id="cxx.ranlibflags">ranlibflags <a class="inline-link" href="#cxx.ranlibflags">#</a></h3><p>The flags to pass to the archive indexer.</p><pre class="prettyprint lang-ini">[cxx]
  ranlibflags = --plugin someplugin</pre><h2 id="go">[go] <a class="inline-link" href="#go">#</a></h2><p>This section defines the Go toolchain.  By default Buck will try to discovery the Go compiler and linker from the <code>go</code> tool found in your <code>PATH</code>.</p><h3 id="go.root">root <a class="inline-link" href="#go.root">#</a></h3><p>If you have a non-standard Go install, you will need to set the Go root.  The root should contain <code>pkg</code> and <code>bin</code> directories.</p><pre class="prettyprint lang-ini">[go]
  root = /opt/golang/libexec</pre><h3 id="go.prefix">prefix <a class="inline-link" href="#go.prefix">#</a></h3><p>For interoperability with the go tool, you may specify a prefix for your default package names.</p><pre class="prettyprint lang-ini">[go]
  prefix = github.com/facebook/buck</pre><h3 id="go.tool">tool <a class="inline-link" href="#go.tool">#</a></h3><p>You can specify the path to find the <code>go</code> tool.  This in turn will allow Buck to discover the compiler/linker by default.  This defaults to <code>${go.root}/bin/go</code>.</p><pre class="prettyprint lang-ini">[go]
  tool = /usr/local/bin/go</pre><h3 id="go.compiler">compiler <a class="inline-link" href="#go.compiler">#</a></h3><p>The full path to the Go compiler.  This is normally automatically discovered.</p><pre class="prettyprint lang-ini">[go]
  compiler = /usr/local/libexec/go/pkg/tool/darwin_amd64/compile</pre><h3 id="go.linker">linker <a class="inline-link" href="#go.linker">#</a></h3><p>The full path to the Go linker.  This is normally automatically discovered.</p><pre class="prettyprint lang-ini">[go]
  linker = /usr/local/libexec/go/pkg/tool/darwin_amd64/link</pre><h2 id="groovy">[groovy] <a class="inline-link" href="#groovy">#</a></h2><p>This section configures the <a href="http://groovy-lang.org/">Groovy</a> toolchain.</p><h3 id="groovy.groovy_home">groovy_home <a class="inline-link" href="#groovy.groovy_home">#</a></h3><p>This defines the value of <code>GROOVY_HOME</code> that Buck should use. If it is not provided, Buck will use the system's <code>GROOVY_HOME</code> by default.</p><pre class="prettyprint lang-ini">[groovy]
  groovy_home = /path/to/groovy_home</pre><h2 id="halide">[halide] <a class="inline-link" href="#halide">#</a></h2><p>This section configures the <a href="http://halide-lang.org/">Halide</a> platform mappings and toolchain.</p><h3 id="halide.target">target <a class="inline-link" href="#halide.target">#</a></h3><p>This defines the C++ platform flavor to Halide target mapping.  Each key should begin with the prefix <code>target_</code>, followed by the flavor name.  The corresponding value should be the Halide target string to use when building for that flavor.</p><pre class="prettyprint lang-ini">
[halide]
  target_iphonesimulator-x86_64 = x86-64-osx
  target_iphoneos-arm64         = arm-64-ios
</pre><h3 id="halide.xcode_compile_script">xcode_compile_script <a class="inline-link" href="#halide.xcode_compile_script">#</a></h3><p>The optional path to a shell script which should be used for invoking the Halide AOT "compiler" when building projects that include Halide targets in Xcode.</p><pre class="prettyprint lang-ini">[halide]
  xcode_compile_script = //path/to/script.sh</pre><h2 id="java">[java] <a class="inline-link" href="#java">#</a></h2><p>This section configures the Java toolchain.</p><h3 id="java.src_roots">src_roots <a class="inline-link" href="#java.src_roots">#</a></h3><p>The paths to roots of Java code (where a root contains a tree of Java folders where the folder structure mirrors the package structure).  This list of paths is comma-delimited.  Paths that start with a slash are relative to the root of the project, and all other paths can match a folder anywhere in the tree.  In the example below, we match all folders named <code>src</code>, and <code>java</code> and <code>javatests</code> at the root of the project.</p><pre class="prettyprint lang-ini">[java]
  src_roots = src, /java/, /javatests/</pre><h3 id="java.extra_arguments">extra_arguments <a class="inline-link" href="#java.extra_arguments">#</a></h3><p>A comma-delimited list of flags to pass the Java compiler.</p><pre class="prettyprint lang-ini">[java]
  extra_arguments = -g</pre><h3 id="java.source_level">source_level <a class="inline-link" href="#java.source_level">#</a></h3><p>The default version of Java for source files.</p><pre class="prettyprint lang-ini">[java]
  source_level = 7</pre><h3 id="java.target_level">target_level <a class="inline-link" href="#java.target_level">#</a></h3><p>The default version of Java for generated code.</p><pre class="prettyprint lang-ini">[java]
  target_level = 7</pre><h3 id="java.skip_checking_missing_deps">skip_checking_missing_deps <a class="inline-link" href="#java.skip_checking_missing_deps">#</a></h3><p>Buck will attempt to analyze build failures and suggest dependencies that might not be declared in order to fix the failure.  On large projects, this can be slow.  This setting disables the check.</p><pre class="prettyprint lang-ini">[java]
  skip_checking_missing_deps = false</pre><h3 id="java.jar_spool_mode">jar_spool_mode <a class="inline-link" href="#java.jar_spool_mode">#</a></h3><p>Specifies how the compiler output to the <code>.jar</code> file should be spooled.  The valid modes are:<ul><li><code>intermediate_to_disk</code> (default): writes the intermediate <code>.class</code> files from the compiler output to disk.  They are then packed into a <code>.jar</code>.</li><li><code>direct_to_jar</code>: compiler output will be directly written to a <code>.jar</code> file with the intermediate <code>.class</code> files held in memory.  The compiler output will still be written to disk if there are any postprocessing commands specified during the build.</li></ul></p><pre class="prettyprint lang-ini">[java]
  jar_spool_mode = intermediate_to_disk</pre><h2 id="httpserver">[httpserver] <a class="inline-link" href="#httpserver">#</a></h2><p>Option to enable an experimental web server that presents a UI to explore build data.  Note that Buck must be run as a daemon in order for the web server to be available.</p><h3 id="httpserver.port">port <a class="inline-link" href="#httpserver.port">#</a></h3><p>This sets the port to use for the web server.  There are three possible values:<ul><li><code>n > 0</code>: For any positive integer, Buck will attempt to make the server available on that port.</li><li><code>0</code>: Buck will find a free port for the server to use and print it out on the command line.</li><li><code>-1</code>: Explicitely disables the server.</li></ul></p><pre class="prettyprint lang-ini">[httpserver]
  port = 8080</pre><h2 id="log">[log] <a class="inline-link" href="#log">#</a></h2><p>This section controls how Buck will log information about builds for later inspection.</p><h3 id="log.max_traces">max_traces <a class="inline-link" href="#log.max_traces">#</a></h3><p>Sets the maximum number of <a href="/about/performance_tuning.html">Chrome Traces</a> that Buck will create.</p><pre class="prettyprint lang-ini">[log]
  max_traces = 25</pre><h3 id="log.compress_traces">compress_traces <a class="inline-link" href="#log.compress_traces">#</a></h3><p><code>true</code> if Buck should GZIP the traces, false otherwise.</p><pre class="prettyprint lang-ini">[log]
  compress_traces = true</pre><h3 id="log.remote_log_url">remote_log_url <a class="inline-link" href="#log.remote_log_url">#</a></h3><p>Will stream the build logs to the indicated address.  Currently <code>http</code> and <code>https</code> scheme URLs are supported.  The events are sent in batches using PUT requests.  Each batch contains a JSON array composing of the long entries.  <em>The format of the individual log entries is not yet finalized and may change without warning between Buck versions.</em></p><pre class="prettyprint lang-ini">[log]
  remote_log_url = http://all.your.logs:500/are/belong/to/us</pre><h3 id="log.remote_log_sample_rate">remote_log_sample_rate <a class="inline-link" href="#log.remote_log_sample_rate">#</a></h3><p>The sample rate of Buck invocations to steam logs to <a href="/concept/buckconfig.html#log.remote_log_url">log.remote_log_url</a>. Valid values are defined by the set of numbers, <code>n</code>, where <code>0 <= n <= 1</code>.</p><pre class="prettyprint lang-ini">[log]
  remote_log_sample_rate = 0.1</pre><h2 id="maven_repositories">[maven_repositories] <a class="inline-link" href="#maven_repositories">#</a></h2><p>This section defines the set of maven repositories that Buck can use when attempting to resolve maven artifacts.  It takes the form of key value pairs of a short name for the repo and the URL. The URL may either be an HTTP(S) URL, or point to a directory on your local disk.<pre class="prettyprint lang-ini">
[maven_repositories]
  central = https://repo1.maven.org/maven2
  m2 = ~/.m2/repository
</pre></p><h2 id="ndk">[ndk] <a class="inline-link" href="#ndk">#</a></h2><p>This section defines properties to configure building native code against the Android NDK.</p><h3 id="ndk.ndk_version">ndk_version <a class="inline-link" href="#ndk.ndk_version">#</a></h3><p>The version of the NDK that Buck should use to build native code.  This is searched for in the subfolders defined by the folder found in the <code>ANDROID_NDK_REPOSITORY</code> environment variable.</p><pre class="prettyprint lang-ini">[ndk]
  ndk_version = r10c</pre><h3 id="ndk.app_platform">app_platform <a class="inline-link" href="#ndk.app_platform">#</a></h3><p>The android platform libraries that the code is targetting.  This is equivalent to the <code>APP_TARGET</code> in the NDK build system.  The default is <code>android-9</code>.</p><pre class="prettyprint lang-ini">[ndk]
  app_platform = android-21</pre><h3 id="ndk.cpu_abis">cpu_abis <a class="inline-link" href="#ndk.cpu_abis">#</a></h3><p>A comma separated list of the CPU ABIs that this repo supports.  Buck will only build NDK code for these ABIs.</p><pre class="prettyprint lang-ini">[ndk]
  cpu_abis = armv7, x86</pre><h3 id="ndk.compiler">compiler <a class="inline-link" href="#ndk.compiler">#</a></h3><p>When compiling <a href="/rule/cxx_library.html"><code>cxx_library</code></a> rules, this specifies the compiler family to use from the NDK.  The possible values are:<ul><li><code>gcc</code> (default): Use the GCC family of compilation tools.</li><li><code>clang</code>: Use the Clang family of compilation tools.</li></ul></p><pre class="prettyprint lang-ini">[ndk]
  compiler = gcc</pre><h3 id="ndk.gcc_version">gcc_version <a class="inline-link" href="#ndk.gcc_version">#</a></h3><p>When compiling <a href="/rule/cxx_library.html"><code>cxx_library</code></a> rules, this specifies the version of GCC to use.  This will be used regardless of the value in <a href="/concept/buckconfig.html#ndk.compiler">ndk.compiler</a>, as other compiler families still use tools from the GCC toolchain (such as <code>ar</code>).  The default value is <code>4.8</code>.</p><pre class="prettyprint lang-ini">[ndk]
  gcc_version = 4.8</pre><h3 id="ndk.clang_version">clang_version <a class="inline-link" href="#ndk.clang_version">#</a></h3><p>When compiling <a href="/rule/cxx_library.html"><code>cxx_library</code></a> rules, this specifies the version of Clang to use.  The default value is <code>3.4</code>.</p><pre class="prettyprint lang-ini">[ndk]
  clang_version = 3.4</pre><h3 id="ndk.cxx_runtime">cxx_runtime <a class="inline-link" href="#ndk.cxx_runtime">#</a></h3><p>When compiling <a href="/rule/cxx_library.html"><code>cxx_library</code></a> rules, this specifies the variant of the <a href="http://www.kandroid.org/ndk/docs/CPLUSPLUS-SUPPORT.html">C/C++ runtime</a> to use. Possible values are:<ul><li><code>gabixx</code></li><li><code>gnustl</code> (default)</li><li><code>libcxx</code></li><li><code>stlport</code></li><li><code>system</code></li></ul></p><pre class="prettyprint lang-ini">[ndk]
  cxx_runtime = gnustl</pre><h2 id="project">[project] <a class="inline-link" href="#project">#</a></h2><p>This section defines project-level settings.</p><h3 id="project.ide">ide <a class="inline-link" href="#project.ide">#</a></h3><p>Buck attempts to figure out the correct IDE to use based on the type of rule (e.g. for <a href="/rule/apple_library.html"><code>apple_library</code></a> it will generate Xcode workspace), but for cross-platform libraries (like <a href="/rule/cxx_library.html"><code>cxx_library</code></a>) it is not possible.  This setting lets you specify the default IDE that <a href="/command/project.html"><code>buck project</code></a> generates.  Possible values are:<ul><li><code>intellij</code></li><li><code>xcode</code></li></ul></p><pre class="prettyprint lang-ini">[project]
  ide = xcode</pre><h3 id="project.default_android_manifest">default_android_manifest <a class="inline-link" href="#project.default_android_manifest">#</a></h3><p>The default manifest file that should be used when the <code>src_target</code> of a <a href="/rule/project_config.html"><code>project_config</code></a> rule is an Android rule (like <a href="/rule/android_library.html"><code>android_library</code></a>), but there is no <code>AndroidManifest.xml</code> file in the same directory as the <a href="/concept/build_file.html">build file</a> the <a href="/rule/project_config.html"><code>project_config</code></a> is defined in.  IDEs for Android projects need a manifest file, and this setting provides a convenient fallback without having boilerplate manifest files all over your project.</p><pre class="prettyprint lang-ini">[project]
  default_android_manifest = //shared/AndroidManifest.xml</pre><h3 id="project.glob_handler">glob_handler <a class="inline-link" href="#project.glob_handler">#</a></h3><p>The <a href="/function/glob.html"><code>glob()</code></a> handler that Buck will use.  The possible values are:<ul><li><code>python</code> (deault): evaluates globs in the Python interpreter while parsing <a href="/concept/build_file.html">build file</a>s.</li><li><code>watchman</code>: evaluates the globs with <a href="https://facebook.github.io/watchman/">Watchman</a>, which is generally much faster.</li></ul></p><pre class="prettyprint lang-ini">[project]
  glob_handler = python</pre><h3 id="project.watchman_query_timeout_ms">watchman_query_timeout_ms <a class="inline-link" href="#project.watchman_query_timeout_ms">#</a></h3><p>When communicating with <a href="https://facebook.github.io/watchman/">Watchman</a>, Buck will wait this long for a response.  The defaut is <code>1000</code> ms.</p><pre class="prettyprint lang-ini">[project]
  watchman_query_timeout_ms = 1000</pre><h3 id="project.initial_targets">initial_targets <a class="inline-link" href="#project.initial_targets">#</a></h3><p>A space-separated list of <a href="/concept/build_target.html">build target</a>s to run when <a href="/command/project.html"><code>buck project</code></a> is executed.  This is often a list of <a href="/rule/genrule.html"><code>genrule</code></a>s whose outputs need to exist in order for an IDE to be ale to build a project without the help of Buck.</p><pre class="prettyprint lang-ini">[project]
  initial_targets = //java/com/facebook/schema:generate_thrift_jar</pre><h3 id="project.ignore">ignore <a class="inline-link" href="#project.ignore">#</a></h3><p>A comma-separated list of subtrees within the project root which are ignored in the following contexts:<ul><li>Buck daemon filesystem monitoring.</li><li>Filesystem traversal when searching for tests and BUCK files</li><li>IntelliJ project indexing</li></ul>Buck automatically excludes its own output, e.g. <code>buck-out</code>, <code>.buckd</code>, and <code>.idea</code>, as well as the cache directory (see <a href="/concept/buckconfig.html#cache.mode">cache.mode</a>), but it makes no assumptions about source control systems.</p><pre class="prettyprint lang-ini">[project]
  ignore = .git</pre><h3 id="project.temp_files">temp_files <a class="inline-link" href="#project.temp_files">#</a></h3><p>A comma-separated list of <code>java.util.regex.Pattern</code> regular expressions which match temporary and backup files which should be ignored by Buck daemon filesystem monitoring. Setting this property to match any temporary files created by your IDE or editor will avoid unnecessary cache invalidation when using the Buck daemon.</p><pre class="prettyprint lang-ini">[project]
  temp_files = ^#.*#$, .*~$, .*\.swp$</pre><h3 id="project.post_process">post_process <a class="inline-link" href="#project.post_process">#</a></h3><p>A script that should be executed after the project files are generated.  Because <a href="/command/project.html"><code>buck project</code></a> is currently based on heuristics, the IntelliJ project that it generates may not be exactly what you want if you are using a non-tradional project structure. In these cases, this script can cleanup the generated project files to better work with your project layout.</p><pre class="prettyprint lang-ini">[project]
  post_process = //scripts/post_process_buck_project.py</pre><h3 id="project.parallel_parsing">parallel_parsing <a class="inline-link" href="#project.parallel_parsing">#</a></h3><p>When set to <code>true</code>, Buck will parse your <a href="/concept/build_file.html">build file</a>s in parallel.</p><pre class="prettyprint lang-ini">[project]
  parallel_parsing = false</pre><h3 id="project.parsing_threads">parsing_threads <a class="inline-link" href="#project.parsing_threads">#</a></h3><p>When <a href="/concept/buckconfig.html#project.parallel_parsing">project.parallel_parsing</a> is enabled, this specifies the number of threads Buck uses to parse.  By default, this is equal to the number of threads Buck uses to build, and will be the minimum of this setting and <a href="/concept/buckconfig.html#build.threads">build.threads</a>.</p><pre class="prettyprint lang-ini">[project]
  parsing_threads = 2</pre><h2 id="python">[python]</h2><p>This section may define a settings relevant to <code>python_*</code> rules.<pre class="prettyprint lang-ini">
[python]
  # Path to the Python interpreter.
  interpreter = /usr/bin/python

  # The rule (typically a `prebuilt_cxx_library`) wrapping the libpython.so
  # that `cpp_python_extension` rules should build against.
  library = //third-party/python:python

  # Path to the tool used to run executable Python packages.  For self-executing packages,
  # this should just be the shell.
  path_to_pex_executor = /bin/sh

  # The extension to use for executable Python packages.
  pex_extension = .pex

  # The strategy used for pulling in native dependencies.
  #
  #   separate - Transitive native deps are linked as full, separate shared libraries.
  #     Preferred for build-time speed.
  #
  #   merged - Native deps which have explicit deps from python rules are linked as
  #     full, separate shared libraries.  Transitive native deps which do *not* have
  #     explicit deps from python rules are statically linked into a single monolithic
  #     shared library.  Preferred to reduce native code size and shared library count.
  #
  native_link_strategy = separate
</pre>Adding a section with header [python#<i>flavor</i>] to the .buckconfig will define a python platform to build <code>python_*</code> rules against, by using the given<i>#flavor</i> when building a python binary or test rule.<pre class="prettyprint lang-ini">
[python#py2]

  # As in the `python` section, this is the path to the Python interpreter to
  # use with this Python platform.
  interpreter = /usr/bin/python2.7

  # The rule (typically a `prebuilt_cxx_library`) wrapping the libpython.so
  # that `cpp_python_extension` rules should build against when using this
  # Python platform.
  library = //third-party/python:py2.7

[python#py3]
  interpreter = /usr/bin/python3.4
  library = //third-party/python:py3.4
</pre><h3 id="python.package_style">package_style <a class="inline-link" href="#python.package_style">#</a></h3><p>The packaging style to use for python binaries and tests (default is <code>standalone</code>):<ul><li><code>standalone</code>: Build self-contained executable packages that can be run outside the repository.</li><li><code>inplace</code>: Generate executables which are only suitable to run from within the repostory.  This style of package builds significantly faster than the "standalone" variant.</li></ul></p><pre class="prettyprint lang-ini">[python]
  package_style = standalone</pre><h2 id="rust">[rust]</h2><p>This section may define a <code>compiler</code> that is used by <code>rust_</code> rules.<pre class="prettyprint lang-ini">
[rust]
  # The path to rustc that Buck should use to compile Rust files.
  compiler = /usr/local/bin/rustc
</pre><h2 id="test">[test]</h2><p>This section may define a <code>timeout</code> for each test that Buck runs. The value given is in milliseconds.<pre class="prettyprint lang-ini">
[test]

  # This specifies a maximum timeout of 5 minutes (300000
  # milliseconds) per test.  A JUnit test can override this
  # via its `@Test` annotation.
  timeout = 300000

  # This specifies a maximum timeout of 20 minutes (1200000
  # milliseconds) per test rule.  This means that all tests
  # within a single test target must complete under 20
  # minutes.  Individual test rules may override this value.
  rule_timeout = 1200000

  # Specify an external test runner command to use instead of Buck's built-in
  # test runner.  The external test runner is invoked by Buck after it has
  # built all the test rules, passing the test runner the path to file which
  # contains a JSON-encoded list of test file infos.  When Buck is invoked via:
  #
  #   $ buck test -- <extra-runner-args>...
  #
  # It will invoke the external runner with:
  #
  #   $ <external-runner> <extra-runner-args>... --buck-test-info <path>
  #
  # The JSON tests file has the following format:
  #
  # [
  #   {
  #
  #     # The build target of the test rule.
  #     "target": "//some:target",
  #
  #     # A string describing the type of the test.
  #     "type": "gtest",
  #
  #     # The command the test runner should invoke
  #     "command": ["buck-out/gen/some/rule/rule"],
  #
  #     # Environment variables which should be defined by the test runner.
  #     "env":  {"VAR": "VALUE"},
  #
  #     # The labels passed into the test rule's definition.
  #     "labels": ["flaky"],
  #
  #     # The contacts passed into the test rule's definition.
  #     "contacts": ["bobloblaw"]
  #
  #   },
  #   ...
  # ]
  #
  # The "type" strings will be one of:
  # - "custom": This describes a test without any structured output, and which
  #       only uses its return code to signal success or failure.

  external_runner = command args...

</pre><h2 id="thrift">[thrift]</h2><p>This section provides settings to locate required thrift components.<pre class="prettyprint lang-ini">
[thrift]
  # The thrift compiler (https://thrift.apache.org).  Can be either a path
  # or a build target that builds it.
  compiler = /usr/local/bin/thrift

  # The thrift2 compiler (https://github.com/facebook/fbthrift).  Can be
  # either a path or a build target that builds it.
  #
  # If unset, defaults to the value in compiler, above.
  compiler2 = //thrift2:compiler
</pre><h2 id="tools">[tools]</h2><p>This section tells Buck how to find certain tools e.g. how the Java compilation occurs and how auxiliary tools are used e.g. the ProGuard class file optimizer which is used as part of the Android build process. The <code>javac</code> option is a path to a program that acts like Java javac. When set, buck uses this program instead of the system Java compiler.<p>The <code>javac_jar</code> option is like <code>javac</code>, except that it points to a JAR containing a javac-like compiler.<p>When <code>javac_jar</code> is set, Buck loads the referenced compiler in-memory. When neither option is set, Buck defaults to using the system compiler in-memory.<p>The following section deals with configuration options for the<a href="http://proguard.sourceforge.net/"> ProGuard</a>  Java class file optimizer.<p>The <code>proguard</code> option specifies the location of the JAR file to be used to invoke ProGuard. This overrides the default ProGuard JAR file that would have been picked up from the Android SDK. Here is an example setting:<pre class="prettyprint lang-ini">
[tools]
  proguard = proguard/proguard-fork.jar
</pre></p><p>The <code>proguard-max-heap-size</code> specifies how much memory is used when running proguard. Defaults to <code>1024M</code>. You may want to give ProGuard more memory to try and improve performance e.g.</p><pre class="prettyprint lang-ini">
[tools]
  proguard-max-heap-size = 4096M
</pre><p>The <code>proguard-agentpath</code> option allows the specification of a Java profiling agent which is set with the <code>-agentpath</code> argument when the ProGuard jar file is executed. Typically this would be set in a <code>.buckconfig.local</code> configuration file for when you want to profile a build running on your local machine. For example, to profile using the <a href="https://www.yourkit.com/"> YourKit</a> profiler running on a Mac you might have a <code>.buckconfig.local</code> which looks similar to this:</p><pre class="prettyprint lang-ini">
[tools]
  proguard-agentpath = /Applications/YourKit_Java_Profiler_2015_build_15084.app/Contents/Resources/bin/mac/libyjpagent.jnilib
</pre><p>If you are profiling with <a href="https://www.ej-technologies.com/products/jprofiler/overview.html"> JProfiler </a>you might have a setting similar to this.</p><pre class="prettyprint lang-ini">
[tools]
  proguard-agentpath = /Applications/JProfiler.app/Contents/Resources/app/bin/macos/libjprofilerti.jnilib
</pre>On Linux machines you should set the path to the location of the profiling agent that you want to use.</div></article><nav><h3>Getting Started</h3><ul><li><a href="/about/overview.html">Overview</a><li><a href="/setup/install.html">Downloading and Installing Buck</a><li><a href="/setup/quick_start.html">Quick Start</a><li><a href="/article/exopackage.html">Exopackage</a><li><a href="/article/query_cheat_sheet.html">Buck Query Cheat Sheet</a></ul><h3>About</h3><ul><li><a href="/concept/what_makes_buck_so_fast.html">What Makes Buck so Fast?</a><li><a href="/concept/troubleshooting.html">Troubleshooting</a><li><a href="/about/performance_tuning.html">Performance Tuning</a><li><a href="/concept/faq.html">FAQ</a><li><a href="/presentations/">Learn More (Buck Presentations)</a></ul><h3>Concepts</h3><ul><li><a href="/concept/build_rule.html">Build Rule</a><li><a href="/concept/build_target.html">Build Target</a><li><a href="/concept/build_file.html">Build File</a><li><a href="/concept/buckversion.html">.buckversion</a><li><a href="/concept/nobuckcheck.html">.nobuckcheck</a><li><a href="/concept/buckjavaargs.html">.buckjavaargs</a><li><a href="/concept/buckconfig.html">.buckconfig</a><li><a href="/concept/build_target_pattern.html">Build Target Pattern</a><li><a href="/concept/visibility.html">Visibility</a><li><a href="/concept/http_cache_api.html">HTTP Cache API</a></ul><h3>Build Rules</h3><ul><li><strong>Core</strong></li><li><a href="/rule/genrule.html">genrule()</a><li><a href="/rule/remote_file.html">remote_file()</a><li><a href="/rule/zip_file.html">zip_file()</a><li><strong>Android</strong></li><li><a href="/rule/android_aar.html">android_aar()</a><li><a href="/rule/android_binary.html">android_binary()</a><li><a href="/rule/android_build_config.html">android_build_config()</a><li><a href="/rule/android_instrumentation_apk.html">android_instrumentation_apk()</a><li><a href="/rule/android_instrumentation_test.html">android_instrumentation_test()</a><li><a href="/rule/android_library.html">android_library()</a><li><a href="/rule/android_manifest.html">android_manifest()</a><li><a href="/rule/android_prebuilt_aar.html">android_prebuilt_aar()</a><li><a href="/rule/android_resource.html">android_resource()</a><li><a href="/rule/apk_genrule.html">apk_genrule()</a><li><a href="/rule/cxx_library.html">cxx_library()</a><li><a href="/rule/gen_aidl.html">gen_aidl()</a><li><a href="/rule/keystore.html">keystore()</a><li><a href="/rule/ndk_library.html">ndk_library()</a><li><a href="/rule/prebuilt_cxx_library.html">prebuilt_cxx_library()</a><li><a href="/rule/prebuilt_jar.html">prebuilt_jar()</a><li><a href="/rule/prebuilt_native_library.html">prebuilt_native_library()</a><li><a href="/rule/project_config.html">project_config()</a><li><strong>CXX</strong></li><li><a href="/rule/cxx_binary.html">cxx_binary()</a><li><a href="/rule/cxx_library.html">cxx_library()</a><li><a href="/rule/cxx_test.html">cxx_test()</a><li><a href="/rule/prebuilt_cxx_library.html">prebuilt_cxx_library()</a><li><strong>D</strong></li><li><a href="/rule/d_binary.html">d_binary()</a><li><a href="/rule/d_library.html">d_library()</a><li><a href="/rule/d_test.html">d_test()</a><li><strong>Go</strong></li><li><a href="/rule/go_binary.html">go_binary()</a><li><a href="/rule/go_library.html">go_library()</a><li><a href="/rule/go_test.html">go_test()</a><li><strong>Groovy</strong></li><li><a href="/rule/groovy_library.html">groovy_library()</a><li><strong>Halide</strong></li><li><a href="/rule/halide_library.html">halide_library()</a><li><strong>iOS</strong></li><li><a href="/rule/apple_asset_catalog.html">apple_asset_catalog()</a><li><a href="/rule/apple_binary.html">apple_binary()</a><li><a href="/rule/apple_bundle.html">apple_bundle()</a><li><a href="/rule/apple_library.html">apple_library()</a><li><a href="/rule/apple_package.html">apple_package()</a><li><a href="/rule/apple_resource.html">apple_resource()</a><li><a href="/rule/apple_test.html">apple_test()</a><li><a href="/rule/prebuilt_cxx_library.html">prebuilt_cxx_library()</a><li><strong>Java</strong></li><li><a href="/rule/cxx_library.html">cxx_library()</a><li><a href="/rule/java_binary.html">java_binary()</a><li><a href="/rule/java_library.html">java_library()</a><li><a href="/rule/java_test.html">java_test()</a><li><a href="/rule/prebuilt_jar.html">prebuilt_jar()</a><li><a href="/rule/prebuilt_native_library.html">prebuilt_native_library()</a><li><strong>Python</strong></li><li><a href="/rule/prebuilt_python_library.html">prebuilt_python_library()</a><li><a href="/rule/python_binary.html">python_binary()</a><li><a href="/rule/python_library.html">python_library()</a><li><a href="/rule/python_test.html">python_test()</a><li><strong>Rust</strong></li><li><a href="/rule/rust_binary.html">rust_binary()</a><li><a href="/rule/rust_library.html">rust_library()</a><li><strong>.Net</strong></li><li><a href="/rule/csharp_library.html">csharp_library()</a><li><a href="/rule/prebuilt_dotnet_library.html">prebuilt_dotnet_library()</a></ul><h3>Functions</h3><ul><li><a href="/function/glob.html">glob()</a><li><a href="/function/include_defs.html">include_defs()</a><li><a href="/function/subdir_glob.html">subdir_glob()</a><li><a href="/function/string_parameter_macros.html">String Parameter Macros</a></ul><h3>Commands</h3><ul><li><a href="/command/common_parameters.html">Common Parameters</a><li><a href="/command/audit.html">buck audit</a><li><a href="/command/build.html">buck build</a><li><a href="/command/clean.html">buck clean</a><li><a href="/command/fetch.html">buck fetch</a><li><a href="/command/install.html">buck install</a><li><a href="/command/project.html">buck project</a><li><a href="/command/query.html">buck query</a><li><a href="/command/quickstart.html">buck quickstart</a><li><a href="/command/run.html">buck run</a><li><a href="/command/root.html">buck root</a><li><a href="/command/server.html">buck server</a><li><a href="/command/simulate.html">buck simulate</a><li><a href="/command/targets.html">buck targets</a><li><a href="/command/test.html">buck test</a><li><a href="/command/uninstall.html">buck uninstall</a><li><a href="/command/buckd.html">buckd</a></ul><h3>Extending Buck</h3><ul><li><a href="/extending/macros.html">Custom Macros</a><li><a href="/extending/rules.html">Custom Rules</a></ul><h3>Contributing to Buck</h3><ul><li><a href="https://groups.google.com/group/buck-build">Discussion Group</a><li><a href="http://stackoverflow.com/questions/ask?tags=buck">Get Support</a><li><a href="https://github.com/facebook/buck/issues/new">Report a Bug</a><li><a href="/contributing/tour.html">Tour of the Codebase</a><li><a href="/contributing/development.html">Development Workflow</a><li><a href="/contributing/codestyle.html">Code Style</a><li><a href="/contributing/logging.html">Logging</a><li><a href="/contributing/immutables.html">Immutable Value Types</a><li><a href="/javadoc">API</a><li><a href="https://github.com/facebook/buck">Browse the Source Code</a></ul></ul></nav></div></section><footer><div class='width'>&copy; Copyright Facebook, 2013 -</div></footer><script src="/google-code-prettify/prettify.js"></script><script>prettyPrint()</script></body></html>